<!DOCTYPE HTML><html lang="zh-cn">
<head>
  <title> Github Proxy by kdxiaoyi.top</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
  <meta name="mobile-web-app-capable" content="yes" />
  <script src="https://rs.kdxiaoyi.top/res/scripts/js/sober@1.0.6.min.js"></script>
  <link rel="stylesheet" href="https://rs.kdxiaoyi.top/res/css/-predef.css" />
  <link rel="stylesheet" href="https://rs.kdxiaoyi.top/res/css/sober-theme-turquoise.css" />
  <link rel="stylesheet" href="https://rs.kdxiaoyi.top/res/css/font.css" />
  <style>
    .disabled-a{
      color: var(--s-color-on-surface, #191c1d);
      cursor:auto;
      pointer-events:none;
      text-decoration: none;
    }
    body {
      background-repeat: no-repeat;
      background-size: cover;
      -webkit-background-size: cover;
      -o-background-size: cover;
      background-position: center 0;
      background-attachment: fixed;
      width: 100vw;
      height: 100vh;
      margin: 0 0 0 0;
      background-image: var(--pmd-bg-src);
    }
    html::-webkit-scrollbar {
      width: 0;
      height: 0;
    }
    #_pmd-pageRoot {
      background: rgba(250, 253, 252, var(--pmd-bg-alpha-l, 0.8));
      backdrop-filter: var(--pmd-bg-blur, blur(0px));
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
    #_pmd-appbarRoot {
      margin: 0 0 0 0;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    #_pmd-mainContent {
      display: flex;
      flex-direction: row;
      align-items: stretch;
    }
    #_pmd-originalContent {
      display: flex;
      flex-direction: column;
    }
    .main-content {
      max-width: 100%;
      min-width: 100%
    }
    a {
      text-decoration: underline dotted;
    }
    a:hover {
      text-decoration: underline;
    }
    #_pmd-pageRoot[dark] {
      background: rgba(5, 2, 3, var(--pmd-bg-alpha-d, 0.82));
      backdrop-filter: var(--pmd-bg-blur, blur(0px));
    }
    #_pmd-pageRoot[dark] * {
      color-scheme: dark;
    }
    .selectable {
      user-select: text;
      -moz-user-select: text;
      -webkit-user-select: text;
    }
    .unselectable {
      user-select: none;
      -moz-user-select: none;
      -webkit-user-select: none;
    }
  </style>
</head>
<body>
  <s-page id="_pmd-pageRoot" theme="light">
    <s-appbar id="_pmd-appbarRoot">
      <div id="_pmd-pageTitle" slot="headline"> Github Proxy </div>
    </s-appbar>
    <s-drawer id="_pmd-mainContent">
      <s-scroll-view id="_pmd-pContent" class="unselectable">
        <div id="noscript" style="text-align: center;"><b>由于您似乎禁用了Javascript或者出于其它原因，页面无法正常加载。<br>此外，该应用不兼容IE系浏览器。</b></div><!-- 未启用js或者js加载失败的提示 -->
        <div style="width:90%;margin: 1em auto 1em auto;">
          <h1>欢迎！</h1>
          <p>
            欢迎使用Github-Proxy！本服务由<a href="//kdxiaoyi.top">@kdxiaoyi</a>使用Cloudflare提供。<br>
            如果哪天不能用了，多半是Cloudflare配额用完了，请等待下个月再试吧。
          </p>
          <h1>开始使用</h1>
          <s-text-field error="" style="margin: 1em 0 .1em .1em;" id="input" label="请输入目标链接" value="">
            <s-tooltip slot="start">
              <s-icon-button id="pasteBtn" slot="trigger">
                <s-icon>
                  <svg viewBox="0 -960 960 960">
                    <path
                      d="M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z">
                    </path>
                  </svg>
                </s-icon>
              </s-icon-button>
              粘贴并查询<br>
              希望你不要用来查些奇怪的。
            </s-tooltip>
            <s-tooltip slot="end">
              <s-icon-button id="clearBtn" slot="trigger">
                <s-icon name="close"></s-icon>
              </s-icon-button>
              清空
            </s-tooltip>
            <s-tooltip slot="end">
              <s-icon-button id="enterBtn" slot="trigger">
                <s-icon>
                  <svg viewBox="0 -960 960 960">
                    <path d="M80-240v-480h80v480H80Zm560 0-57-56 144-144H240v-80h487L584-664l56-56 240 240-240 240Z"></path>
                  </svg>
                </s-icon>
              </s-icon-button>
              发起代理
            </s-tooltip>
            <div id="inputerr" slot="text"></div>
          </s-text-field>
          <p>
            文件链接支持Release、Archive和File。前两者由Cloudflare代理加速，后者由JsDelivr代理加速。<br>
            所用链接可带协议头也可不带。<br>
            您可将链接中的<code>github.com</code>替换为<code class="selectable">gh.kdxiaoyi.top</code>以直接调用本服务。
            <b>注意，目前暂不支持项目文件夹</b>
          </p>
          <h1>其它事宜</h1>
          <p>
            以下域名均导向此服务，您可以任选其一：<br>
            <a id="link-main" href="//gh.kdxiaoyi.top" target="_blank">gh.kdxiaoyi.top</a> | 
            <a id="link-euorg" href="//kdx233.eu.org" target="_blank">kdx233.eu.org</a> | 
            <a id="link-cf" href="//githubjs.kdx.workers.dev" target="_blank">githubjs.kdx.workers.dev</a>
            <br>
            本代理基于Github项目<a target="_blank" href="https://github.com/hunshcn/gh-proxy">hunshcn/gh-proxy</a>构建
          </p>
        </div>
      </s-scroll-view>
    </s-drawer>
  </s-page>
</body>
<script>
const input = document.getElementById("input");
const err = document.getElementById("inputerr");
const paste = document.getElementById("pasteBtn");
const clear = document.getElementById("clearBtn");
const enter = document.getElementById("enterBtn");
/**
 * 弹出轻量消息提示框
 * @param {string} Message 消息文本
 * @param {string} [ConfirmBtnText=''] 确认按钮文字
 * @param {string|boolean} [type='none'] 样式(none, info, success, warning, error) || 为兼容老版本，使用布尔值时视作'error'
 * @param {number} [duration=4000] 自动关闭时长（毫秒）；≤0 则不自动关闭
 * @param {function} [onclick] 点击确认按钮时的回调函数
 * @param {string} [align='auto'] 弹窗位置 'auto'|'top'|'bottom'
 * @param {string} [icon] 传递一个图标
 * @returns {JSON} 传递参数时构造的JSON
 */
function msg(Message, ConfirmBtnText, type, duration, onclick, align, icon) {
  let infoJSON = {
    root: document.getElementById("_pmd-pageRoot"),
    text: Message,
    type: type,
    action: {},
  };
  if (ConfirmBtnText) { infoJSON.action.text = ConfirmBtnText.toString(); };
  if (type === true) { infoJSON.type = "error"; };
  if (duration) { infoJSON.duration = parseInt(duration.toString()); };
  if (onclick) { infoJSON.action.click = onclick; };
  if (align) { infoJSON.align = ["auto", "top", "bottom"][align.toString().match(/\d+/) % 3]; };
  if (icon) { infoJSON.icon = icon; };
  customElements.get("s-snackbar").builder(infoJSON);
  return infoJSON;
};
function checkURL(url) {
  const exp = [
    /^(?:https?:\/\/)?github\.com\/.+?\/.+?\/(?:releases|archive)\/.*$/i,
    /^(?:https?:\/\/)?github\.com\/.+?\/.+?\/(?:blob|raw)\/.*$/i,
    /^(?:https?:\/\/)?github\.com\/.+?\/.+?\/(?:info|git-).*$/i,
    /^(?:https?:\/\/)?raw\.(?:githubusercontent|github)\.com\/.+?\/.+?\/.+?\/.+$/i,
    /^(?:https?:\/\/)?gist\.(?:githubusercontent|github)\.com\/.+?\/.+?\/.+$/i,
    /^(?:https?:\/\/)?github\.com\/.+?\/.+?\/tags.*$/i,
  ];
  let r = [false];
  for (let e of exp) {
    r.unshift(e.test(url));
    if (r[0]) { break; };
  };
  if (r[0]) {
    return true;
  } else {
    return false;
  };
};
function putErr(msg) {
  if (!msg) {
    err.innerHTML = "";
    input.error = "";
  } else {
    err.innerHTML = msg;
    input.error = "true";
  };
  return;
};
function newSearch(uri) {
  if (checkURL(uri) == false) {;
    putErr("不是一个有效的地址");
    return;
  };
  let goto = document.createElement("a");
  goto.setAttribute("href", `https://gh.kdxiaoyi.top/` + uri);
  goto.click();
  goto.remove();
};
//link域识别
try {
  let localReg = /(127\.0\.0\.1)|(0\.0\.0\.0)|(localhost)/i;
  if (localReg.test(window.location.href)) { msg("检测到本地调试状态，代理加速将不可用。", "了解", "info"); document.getElementById("_pmd-pageTitle").innerHTML = `Github Proxy [LoaclDebug]`; };
  let mainMirrorReg = /kdxiaoyi\.top\//i;
  if (mainMirrorReg.test(window.location.href)) { document.getElementById("link-main").setAttribute("class", "disabled-a"); };
  let euorgMirrorReg = /eu\.org\//i;
  if (euorgMirrorReg.test(window.location.href)) { document.getElementById("link-euorg").setAttribute("class", "disabled-a"); };
  let cfMirrorReg = /workers\.dev\//i;
  if (cfMirrorReg.test(window.location.href)) { document.getElementById("link-cf").setAttribute("class", "disabled-a"); };
} catch(e) {
  console.error("Caught error when handling visit_origin", e);
};
//按钮实现
input.addEventListener("keydown", (e) => {
  if (e.key == "Enter") { err.innerHTML = ""; input.error = ""; newSearch(input.value); };
});
paste.addEventListener("click", () => { navigator.clipboard.readText().then((t) => {
  const tReg = [
    // 666来审计来的
    // 或许你可以试试？
    [new String(), "剪贴板中没有任何东西……", ""],
    ["windows", "Windows 11 未响应", "https://s21.ax1x.com/2025/11/22/pZkuCcR.png?note=网图侵删ww"],
    ["conan", "暂未发现死神，为您推荐哀酱♥️", "https://s21.ax1x.com/2025/11/22/pZkukB6.jpg"],
    ["castorice", "现在发现死神了……？", "https://s21.ax1x.com/2025/11/22/pZkuFnx.jpg"],
    ["nahida", "发现原批！", "https://s21.ax1x.com/2025/11/22/pZkVSVe.jpg?note=网图侵删www"],
    ["firefly", "这是格拉默铁骑老兵，你敢和她对视3秒吗", "https://s21.ax1x.com/2025/11/22/pZku939.jpg?note=网图侵删wwwww"],
  ];
  for (let e of tReg) {
    if (t.toLowerCase() != e[0]) { continue; };
    input.value = e[2];
    putErr(e[1]);
    return;
  };
  input.value = t;
  putErr();
  newSearch(input.value);
}); });
clear.addEventListener("click", () => { input.value = ""; putErr(); });
enter.addEventListener("click", () => { putErr(); newSearch(input.value); });
//entry参数处理
if ((window.location.pathname != '/') && (window.location.pathname != '')) {
  input.value = window.location.pathname.replace(/^\/+/, '');
  putErr("不是一个有效的地址");
};
//移除noscript标识
console.log("Github-proxy"); console.log("Copyright (C) 2025, kdxiaoyi. All right reserved.\nSee more @ //kdx233.github.io/licen");
document.getElementById("noscript").setAttribute("style", "display:none;");
</script>
</html>